# Liste de commandes pour tester manuellement monECC
# Copiez-collez ces commandes une par une dans le mode interactif ou exécutez-les directement

# ============================================
# 1. TESTS DE BASE - Génération de clés
# ============================================

# Génération de clés par défaut
keygen

# Génération avec nom personnalisé
keygen -f mescles

# Génération avec taille personnalisée
keygen -f testkeys -s 5000

# Génération dans un répertoire spécifique
keygen -f testdir -d ./test_output/

# Génération avec tous les paramètres
keygen -f complet -s 2000 -d ./keys/

# ============================================
# 2. TESTS DE CHIFFREMENT
# ============================================

# Chiffrement basique (utilise monECC.pub généré précédemment)
crypt monECC.pub "Bonjour, ceci est un test"

# Chiffrement avec sortie dans un fichier
crypt monECC.pub "Message secret" -o message_chiffre.txt

# Chiffrement depuis un fichier d'entrée
echo "Message depuis fichier" > input.txt
crypt monECC.pub -i input.txt -o output.txt

# Chiffrement avec répertoire de sortie
crypt monECC.pub "Test avec répertoire" -o test.txt -d ./encrypted/

# Chiffrement complet (fichier entrée + répertoire sortie)
crypt monECC.pub -i input.txt -o result.txt -d ./encrypted/

# ============================================
# 3. TESTS DE DÉCHIFFREMENT
# ============================================

# Déchiffrement basique (remplacez <texte_chiffré> par le résultat du crypt précédent)
# decrypt monECC.priv "<texte_chiffré>"

# Déchiffrement depuis un fichier
decrypt monECC.priv -i message_chiffre.txt

# Déchiffrement avec sortie dans un fichier
decrypt monECC.priv -i message_chiffre.txt -o message_dechiffre.txt

# Déchiffrement avec répertoire de sortie
decrypt monECC.priv -i message_chiffre.txt -o result.txt -d ./decrypted/

# Déchiffrement complet
decrypt monECC.priv -i ./encrypted/test.txt -o final.txt -d ./decrypted/

# ============================================
# 4. TEST COMPLET - Cycle complet
# ============================================

# Étape 1 : Générer des clés de test
keygen -f cycle_test -d ./test_cycle/

# Étape 2 : Chiffrer un message
crypt ./test_cycle/cycle_test.pub "Message de test complet" -o ./test_cycle/chiffre.txt

# Étape 3 : Déchiffrer le message
decrypt ./test_cycle/cycle_test.priv -i ./test_cycle/chiffre.txt -o ./test_cycle/dechiffre.txt

# Étape 4 : Vérifier que le contenu correspond
# (comparez manuellement le fichier dechiffre.txt avec "Message de test complet")

# ============================================
# 5. COMMANDE TEST
# ============================================

# Test basique
test

# Test en mode verbose
test -v

# Test avec --verbose (alias)
test --verbose

# ============================================
# 6. TESTS DE COMPATIBILITÉ ASCENDANTE
# ============================================

# Vérifier que les anciennes commandes fonctionnent toujours
keygen
crypt monECC.pub "Test compatibilité"
decrypt monECC.priv "<texte_chiffré>"
help

# ============================================
# 7. TESTS D'ERREURS (pour vérifier la gestion d'erreurs)
# ============================================

# Fichier de clé inexistant
crypt fichier_inexistant.pub "test"

# Répertoire invalide
keygen -d /chemin/inexistant/test

# Taille invalide
keygen -s 0
keygen -s -5

# Paramètres manquants
crypt
decrypt
keygen -f

# ============================================
# 8. TESTS AVANCÉS
# ============================================

# Génération multiple de clés dans différents répertoires
keygen -f alice -d ./users/alice/
keygen -f bob -d ./users/bob/
keygen -f charlie -d ./users/charlie/

# Chiffrement pour plusieurs destinataires
crypt ./users/alice/alice.pub "Message pour Alice" -o alice_msg.txt -d ./messages/
crypt ./users/bob/bob.pub "Message pour Bob" -o bob_msg.txt -d ./messages/
crypt ./users/charlie/charlie.pub "Message pour Charlie" -o charlie_msg.txt -d ./messages/

# Déchiffrement par chaque destinataire
decrypt ./users/alice/alice.priv -i ./messages/alice_msg.txt -o alice_read.txt
decrypt ./users/bob/bob.priv -i ./messages/bob_msg.txt -o bob_read.txt
decrypt ./users/charlie/charlie.priv -i ./messages/charlie_msg.txt -o charlie_read.txt

# ============================================
# NOTES
# ============================================
# - Remplacez <texte_chiffré> par le résultat réel d'une commande crypt
# - Les répertoires seront créés automatiquement si nécessaire
# - Les fichiers temporaires peuvent être supprimés après les tests
# - Pour tester en mode non-interactif, utilisez : echo "commande" | dotnet run
